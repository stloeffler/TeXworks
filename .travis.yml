language: cpp

matrix:
  include:
    - env: TARGET_OS=osx QT=5
      os: osx
    - env: TARGET_OS=osx QT=4
      os: osx
    - env: TARGET_OS=win QT=4
      os: linux
    - env: TARGET_OS=win QT=5
      os: linux
#    - env: TARGET_OS=linux QT=4
#      os: linux
#    - env: TARGET_OS=linux QT=5
#      os: linux

dist: trusty
sudo: required

before_install:
  - travis-ci/get-dependencies.sh

before_script:
  - travis-ci/configure.sh

script:
  - cd "${BUILDDIR}" && make VERBOSE=1 && cd "${TRAVIS_BUILD_DIR}"

after_success:
  - travis-ci/package.sh

deploy:
  skip_cleanup: true
  provider: bintray
  file: ${TRAVIS_BUILD_DIR}/travis-ci/bintray.json
  user: stloeffler
  on:
    condition: -f ${TRAVIS_BUILD_DIR}/travis-ci/bintray.json
  key:
    secure: oULH4rfgoSAo46cmFdhTZ4Bse+DWAFke4toShIzDiOoooyXhXkbMU/lDMe5msUXVYejIr4icyuC/9/JkRCLtSYNIgafuLtvCYI+SWF2pyta00NyETDmXrF6tQqtaUVMEpfsozbYVcnMGrEUDCEzKseLgnUPthz7Kr2hvXO2ga6WX/0csiH2Tvr/vwQHM3hz4uck/O+VSEXWt1WvYMbHGd3hnxuzUBSCDorPJNLl/zWs0MgzGepZwFq3NXWUkee0k7G6d1vHotdinShqfdG4pWx/ZJIRFys2R8PYosKx62/1CAdNLfW8bT8lP7h+eape7QlaHqRHkFZrU0wpzqvQdtCnoAibp7ND+44L4iyJAg2XhvKqxp912OaEloLYklx4rsGRPiu408/z304zYG2KRAWwHwn0Ik2JY+oXtfF3lxbD7O/yYG267R8hjq1A9MRiMCd/eXNRZbGhkLoP41eIU1icbowsEgiue6mXLY1vIs68vA4qu5fA5rebfialzfUqpsnvLf5lyCI8eHtOJ825Km002LErcI0ODCFyoqVlk4W2rTwsmQzN4NlU9G4e4HoRxP5TgwzvHyMEzlgz+HGroglR6uqxmrOTBFlSq+4V4xfTXGLLJreC7NtZ2f50pv8GZMH57gt/GoZ9K03n84K0U68rlBH1HydSrQZZ1R2gfkPE=

